<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Class HttpError401Handler | Kampute.HttpClient </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Class HttpError401Handler | Kampute.HttpClient ">
    
    <meta name="description" content="Handles &#39;401 Unauthorized&#39; HTTP responses by attempting to re-authenticate and retry the request.">
      <link rel="shortcut icon" href="../kampute.png">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="">
      <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../kampute.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler">



  <h1 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler" class="text-break">Class HttpError401Handler</h1>
  <div class="markdown level0 summary"><p>Handles '401 Unauthorized' HTTP responses by attempting to re-authenticate and retry the request.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
    <div class="level1"><span class="xref">HttpError401Handler</span></div>
  </div>
  <div class="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Kampute.HttpClient.Interfaces.IHttpErrorHandler.html">IHttpErrorHandler</a></div>
    <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Kampute.html">Kampute</a>.<a class="xref" href="Kampute.HttpClient.html">HttpClient</a>.<a class="xref" href="Kampute.HttpClient.ErrorHandlers.html">ErrorHandlers</a></h6>
  <h6><strong>Assembly</strong>: Kampute.HttpClient.dll</h6>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class HttpError401Handler : IHttpErrorHandler, IDisposable</code></pre>
  </div>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>
The <a class="xref" href="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.html">HttpError401Handler</a> class is specifically designed to enhance instances of <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> by providing a mechanism
to handle HTTP '401 Unauthorized' responses. When a request made by a <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> instance receives a '401 Unauthorized' status code,
this indicates that the request was rejected due to insufficient or missing authentication credentials. The <a class="xref" href="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.html">HttpError401Handler</a> responds 
to such scenarios by initiating a re-authentication process using a delegate provided at instantiation, to obtain new authentication credentials.
</p>
<p>
The delegate provided to the constructor is tasked with obtaining new authentication credentials, which might involve interacting with an authentication 
server or prompting the user for credentials. Successful acquisition of new credentials leads to their application to the <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a>
instance, allowing the previously failed request to be retried with the updated authentication details.
</p>
<p>
When an authentication process is underway for a client, subsequent authentication requests from the client will not initiate new processes. Instead, they 
will await and utilize the outcome of the ongoing authentication. This approach guarantees that the authentication delegate is executed a single time for 
concurrent requests, ensuring both efficiency and thread safety.
</p>
<p>
This error handler can be integrated with multiple <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> instances, enabling centralized management of authentication challenges 
across various client instances that interact with different endpoints. It is crucial, therefore, that the delegate provided for authentication is designed 
to be thread-safe, ensuring consistent and safe operation across concurrent authentication processes.
</p>
</div>
  <h3 id="constructors">Constructors
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler__ctor_System_Func_Kampute_HttpClient_HttpRestClient_System_Collections_Generic_IEnumerable_System_Net_Http_Headers_AuthenticationHeaderValue__System_Threading_CancellationToken_System_Threading_Tasks_Task_System_Net_Http_Headers_AuthenticationHeaderValue___.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.%23ctor(System.Func%7BKampute.HttpClient.HttpRestClient%2CSystem.Collections.Generic.IEnumerable%7BSystem.Net.Http.Headers.AuthenticationHeaderValue%7D%2CSystem.Threading.CancellationToken%2CSystem.Threading.Tasks.Task%7BSystem.Net.Http.Headers.AuthenticationHeaderValue%7D%7D)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L93">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler__ctor_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.#ctor*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler__ctor_System_Func_Kampute_HttpClient_HttpRestClient_System_Collections_Generic_IEnumerable_System_Net_Http_Headers_AuthenticationHeaderValue__System_Threading_CancellationToken_System_Threading_Tasks_Task_System_Net_Http_Headers_AuthenticationHeaderValue___" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.#ctor(System.Func{Kampute.HttpClient.HttpRestClient,System.Collections.Generic.IEnumerable{System.Net.Http.Headers.AuthenticationHeaderValue},System.Threading.CancellationToken,System.Threading.Tasks.Task{System.Net.Http.Headers.AuthenticationHeaderValue}})">HttpError401Handler(Func&lt;HttpRestClient, IEnumerable&lt;AuthenticationHeaderValue&gt;, CancellationToken, Task&lt;AuthenticationHeaderValue?&gt;&gt;)</h4>
  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.html">HttpError401Handler</a> class.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public HttpError401Handler(Func&lt;HttpRestClient, IEnumerable&lt;AuthenticationHeaderValue&gt;, CancellationToken, Task&lt;AuthenticationHeaderValue?&gt;&gt; asyncAuthenticator)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.func-4">Func</a>&lt;<a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a>&gt;, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a>&gt;&gt;</td>
        <td><span class="parametername">asyncAuthenticator</span></td>
        <td><p>The asynchronous delegate to be invoked to acquire new authorization details.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler__ctor_System_Func_Kampute_HttpClient_HttpRestClient_System_Collections_Generic_IEnumerable_System_Net_Http_Headers_AuthenticationHeaderValue__System_Threading_CancellationToken_System_Threading_Tasks_Task_System_Net_Http_Headers_AuthenticationHeaderValue____remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
The <code class="paramref">asyncAuthenticator</code> delegate is responsible for obtaining new authentication credentials, typically in response to an 
authentication challenge indicated by an HTTP '401 Unauthorized' status code.
</p>
<p>
The delegate should evaluate the provided challenges and return an instance of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a> containing the 
authorization details necessary for subsequent requests if authentication can be successfully completed. If the authentication process 
fails, or if no suitable challenge can be met, the delegate should return <code>null</code>.
</p>
<p>
The delegate receives the following parameters:
<ul><li><span class="term">client</span>The instance of <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> making the request that was challenged with a '401 Unauthorized' response. 
This client can be used to perform further requests, such as retrieving a new token from an authentication server.</li><li><span class="term">challenges</span>The collection of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a> instances representing the server's authentication challenges.</li><li><span class="term">cancellationToken</span>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a> for canceling the operation.</li></ul>

<p>
It is crucial to use the <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> provided to the delegate for any requests using the client that triggered the 
authentication challenge, to prevent deadlocks caused by recurring 401 errors. This client is a temporary, cloned version of the original 
client, created specifically for handling the authentication process. As such, any changes made to this clone's configuration will not 
impact the original client. 
</p>
</div>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></td>
        <td><p>Thrown if <code class="paramref">asyncAuthenticator</code> is <code>null</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_CanHandle_System_Net_HttpStatusCode_.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.CanHandle(System.Net.HttpStatusCode)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L115">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_CanHandle_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.CanHandle*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_CanHandle_System_Net_HttpStatusCode_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.CanHandle(System.Net.HttpStatusCode)">CanHandle(HttpStatusCode)</h4>
  <div class="markdown level1 summary"><p>Determines whether this handler can process the specified HTTP status code.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool CanHandle(HttpStatusCode statusCode)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.httpstatuscode">HttpStatusCode</a></td>
        <td><span class="parametername">statusCode</span></td>
        <td><p>The HTTP status code to evaluate.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></td>
        <td><p><code>true</code> if the handler can process the status code; otherwise, <code>false</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_CanHandle_System_Net_HttpStatusCode__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This implementation specifically handles the HTTP '401 Unauthorized' status code.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_DecideOnRetryAsync_Kampute_HttpClient_HttpResponseErrorContext_System_Threading_CancellationToken_.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.DecideOnRetryAsync(Kampute.HttpClient.HttpResponseErrorContext%2CSystem.Threading.CancellationToken)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L235">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_DecideOnRetryAsync_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.DecideOnRetryAsync*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_DecideOnRetryAsync_Kampute_HttpClient_HttpResponseErrorContext_System_Threading_CancellationToken_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.DecideOnRetryAsync(Kampute.HttpClient.HttpResponseErrorContext,System.Threading.CancellationToken)">DecideOnRetryAsync(HttpResponseErrorContext, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Attempts to recover from an unauthorized request error by re-authenticating and retrying the request.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual Task&lt;HttpErrorHandlerResult&gt; DecideOnRetryAsync(HttpResponseErrorContext ctx, CancellationToken cancellationToken)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Kampute.HttpClient.HttpResponseErrorContext.html">HttpResponseErrorContext</a></td>
        <td><span class="parametername">ctx</span></td>
        <td><p>The context containing information about the HTTP response that indicates a failure.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>A token for canceling the operation.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Kampute.HttpClient.HttpErrorHandlerResult.html">HttpErrorHandlerResult</a>&gt;</td>
        <td><p>A task that resolves to an <a class="xref" href="Kampute.HttpClient.HttpErrorHandlerResult.html">HttpErrorHandlerResult</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_DecideOnRetryAsync_Kampute_HttpClient_HttpResponseErrorContext_System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This method attempts to re-authenticate the client in response to an '401 Unauthorized'. The process involves:</p>
<ul><li>Invoking the provided asynchronous delegate to obtain new authorization details.</li><li>If authentication is successful, the method clones the original request, updates it with the new authorization 
header, and returns <a class="xref" href="Kampute.HttpClient.HttpErrorHandlerResult.html#Kampute_HttpClient_HttpErrorHandlerResult_Retry_System_Net_Http_HttpRequestMessage_">Retry(HttpRequestMessage)</a> with the updated request, indicating that 
the request should be retried.</li><li>If authentication cannot be successfully completed or if no suitable challenge can be met, the method returns 
<a class="xref" href="Kampute.HttpClient.HttpErrorHandlerResult.html#Kampute_HttpClient_HttpErrorHandlerResult_NoRetry">NoRetry</a>, indicating that the request cannot be recovered by this handler.</li></ul>
</div>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></td>
        <td><p>Throws if <code class="paramref">ctx</code> is <code>null</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L101">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose">Dispose()</h4>
  <div class="markdown level1 summary"><p>Releases the unmanaged resources used by the <a class="xref" href="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.html">HttpError401Handler</a> and optionally disposes of the managed resources.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose_System_Boolean_.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose(System.Boolean)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L142">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_Dispose_System_Boolean_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.Dispose(System.Boolean)">Dispose(bool)</h4>
  <div class="markdown level1 summary"><p>Disposes the <a class="xref" href="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.html">HttpError401Handler</a> instance.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual void Dispose(bool disposing)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></td>
        <td><span class="parametername">disposing</span></td>
        <td><p>Indicates whether the method is called from a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable.dispose">Dispose()</a> method.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TryAuthenticateAsync_Kampute_HttpClient_HttpRestClient_System_String_System_String_.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TryAuthenticateAsync(Kampute.HttpClient.HttpRestClient%2CSystem.String%2CSystem.String)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L130">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TryAuthenticateAsync_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TryAuthenticateAsync*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TryAuthenticateAsync_Kampute_HttpClient_HttpRestClient_System_String_System_String_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TryAuthenticateAsync(Kampute.HttpClient.HttpRestClient,System.String,System.String)">TryAuthenticateAsync(HttpRestClient, string, string?)</h4>
  <div class="markdown level1 summary"><p>Asynchronously attempts to authenticate the client by new authorization details.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual Task&lt;bool&gt; TryAuthenticateAsync(HttpRestClient client, string scheme, string? parameter = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a></td>
        <td><span class="parametername">client</span></td>
        <td><p>The instance of <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> that requires authentication.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></td>
        <td><span class="parametername">scheme</span></td>
        <td><p>The desired authorization scheme, such as &quot;Bearer&quot; or &quot;Basic&quot;.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></td>
        <td><span class="parametername">parameter</span></td>
        <td><p>An optional parameter for the authorization scheme.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a>&gt;</td>
        <td><p><code>true</code> if authorization details are successfully acquired and set; otherwise, <code>false</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TryAuthenticateAsync_Kampute_HttpClient_HttpRestClient_System_String_System_String__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Upon successful authentication, this method directly updates the default request headers of the <code class="paramref">client</code>
with the provided authorization details, ensuring that all subsequent requests from the <code class="paramref">client</code> use these
credentials.</p>
</div>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></td>
        <td><p>Thrown if <code class="paramref">scheme</code> is <code>null</code> or empty.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TrySolveAuthenticationChallengeAsync_Kampute_HttpClient_HttpRestClient_System_Collections_Generic_IEnumerable_System_Net_Http_Headers_AuthenticationHeaderValue__System_Threading_CancellationToken_.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TrySolveAuthenticationChallengeAsync(Kampute.HttpClient.HttpRestClient%2CSystem.Collections.Generic.IEnumerable%7BSystem.Net.Http.Headers.AuthenticationHeaderValue%7D%2CSystem.Threading.CancellationToken)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L162">View Source</a>
  </span>
  <a id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TrySolveAuthenticationChallengeAsync_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TrySolveAuthenticationChallengeAsync*"></a>
  <h4 id="Kampute_HttpClient_ErrorHandlers_HttpError401Handler_TrySolveAuthenticationChallengeAsync_Kampute_HttpClient_HttpRestClient_System_Collections_Generic_IEnumerable_System_Net_Http_Headers_AuthenticationHeaderValue__System_Threading_CancellationToken_" data-uid="Kampute.HttpClient.ErrorHandlers.HttpError401Handler.TrySolveAuthenticationChallengeAsync(Kampute.HttpClient.HttpRestClient,System.Collections.Generic.IEnumerable{System.Net.Http.Headers.AuthenticationHeaderValue},System.Threading.CancellationToken)">TrySolveAuthenticationChallengeAsync(HttpRestClient, IEnumerable&lt;AuthenticationHeaderValue&gt;, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Attempts to solve at least one of the authentication challenges received from the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual Task&lt;bool&gt; TrySolveAuthenticationChallengeAsync(HttpRestClient client, IEnumerable&lt;AuthenticationHeaderValue&gt; challenges, CancellationToken cancellationToken)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a></td>
        <td><span class="parametername">client</span></td>
        <td><p>The <a class="xref" href="Kampute.HttpClient.HttpRestClient.html">HttpRestClient</a> instance attempting to authenticate.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a>&gt;</td>
        <td><span class="parametername">challenges</span></td>
        <td><p>A collection of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.authenticationheadervalue">AuthenticationHeaderValue</a> items representing the <code>WWW-Authenticate</code> headers received from a server response.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>A token for canceling the operation.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a>&gt;</td>
        <td><p>A task that resolves to <code>true</code> if the client successfully acquires and sets new authorization details; otherwise, <code>false</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></td>
        <td><p>Throws if <code class="paramref">client</code> or <code class="paramref">challenges</code> is <code>null</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Kampute.HttpClient.Interfaces.IHttpErrorHandler.html">IHttpErrorHandler</a>
  </div>
  <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a>
  </div>
  <h3 id="seealso">See Also</h3>
  <div class="seealso">
      <div><a class="xref" href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ErrorHandlers">ErrorHandlers</a></div>
  </div>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/kampute/http-client/new/master/apiSpec/new?filename=Kampute_HttpClient_ErrorHandlers_HttpError401Handler.md&amp;value=---%0Auid%3A%20Kampute.HttpClient.ErrorHandlers.HttpError401Handler%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Edit this page</a>
                  </li>
                  <li>
                    <a href="https://github.com/kampute/http-client/blob/master/src/Kampute.HttpClient/ErrorHandlers/HttpError401Handler.cs/#L46" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      © 2024 Kampute
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
