<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Kampute.HttpClient - AsyncUpdateThrottle&lt;T&gt; Class</title><link rel="icon" href="../logo-dark.png"/><link rel="stylesheet" href="../style.css"/><script src="../script.js"></script><script src="../prism.min.js"></script><meta name="generator" content="Kampose [Version 0.1.2.0]"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Manages thread-safe, asynchronous updates to a value, ensuring efficiency by reducing unnecessary update operations."/></head><body class="has-left-sidebar has-right-sidebar has-breadcrumb"><a href="#article" class="skip-link" aria-label="Skip to main content" tabindex="0">Skip to main content</a><header class="header" role="banner"><div class="header-main"><div class="brand" aria-label="Project title and logo"><img src="../logo-light.png" alt="Kampute.HttpClient logo" class="logo dark-mode"/> <img src="../logo-dark.png" alt="Kampute.HttpClient logo" class="logo light-mode"/><div class="project-info"><span class="project-name">Kampute.HttpClient</span> <span class="project-slogan">A lightweight .NET library that simplifies RESTful API communication.</span></div></div><nav id="menubar" class="menu-bar" role="navigation" aria-label="Main Menu" data-base-url="../" tabindex="-1"><ul class="menu" role="menubar" aria-labelledby="menubar"><li id="color-mode" class="menu-item has-submenu" role="menuitem" aria-hidden="true" tabindex="-1"><a><span class="icon selected-icon" aria-hidden="true"></span></a><ul class="menu" role="menu" aria-labelledby="color-mode" tabindex="-1"><li class="menu-item" data-mode="light" role="menuitemradio" aria-label="Light Color Mode" tabindex="-1"><a><span class="icon icon-light-color" aria-hidden="true"></span> <span>Light</span></a></li><li class="menu-item" data-mode="dark" role="menuitemradio" aria-label="Dark Color Mode" tabindex="-1"><a><span class="icon icon-dark-color" aria-hidden="true"></span> <span>Dark</span></a></li><li class="menu-item" data-mode="system" role="menuitemradio" aria-label="System Color Mode" tabindex="-1"><a><span class="icon icon-system-color" aria-hidden="true"></span> <span>System</span></a></li></ul></li></ul></nav></div><nav class="breadcrumb" role="navigation" aria-label="Breadcrumb" tabindex="-1"><ol><li class="is-topic"><a href="../index.html"><span class="name">Welcome to HttpClient</span></a></li><li class="is-topic"><a href="index.html"><span class="name">API</span></a></li><li class="is-namespace"><a href="Kampute.HttpClient.Utilities.html"><span class="name">Kampute.HttpClient.Utilities</span> <span class="category">Namespace</span></a></li><li class="is-class current-page" aria-current="page"><a href="Kampute.HttpClient.Utilities.AsyncUpdateThrottle_1.html"><span class="name">AsyncUpdateThrottle&lt;T&gt;</span> <span class="category">Class</span></a></li></ol></nav></header><div class="content"><aside class="sidebar sidebar-left" role="complementary" aria-label="Site navigation" tabindex="-1"><div class="sidebar-header"><div class="search-container" role="search"><input type="text" id="nav-search" class="nav-search" placeholder="Search..." aria-label="Search documentation" title="Type to filter content (Press / to focus)" autocomplete="off" spellcheck="false"><button id="clear-search" type="button" class="clear-search hidden" aria-label="Clear search" title="Clear" tabindex="-1"><span class="icon icon-delete" aria-hidden="true"></span></button> <span class="search-icon" aria-hidden="true"><span class="icon icon-search"></span></span></div></div><nav id="site-navigation" class="sidebar-nav" data-base-url="../"><div class="no-search-results hidden" aria-live="polite" role="status">No results found</div></nav></aside><main id="article" role="main" class="article has-expanded-members"><h1>AsyncUpdateThrottle&lt;T&gt; Class</h1><dl class="module-card"><dt>Namespace</dt><dd><a href="Kampute.HttpClient.Utilities.html" rel="code-reference">Kampute.HttpClient.Utilities</a></dd><dt>Assembly</dt><dd><ul class="inline-list"><li>Kampute.HttpClient.dll</li></ul></dd></dl><h2 id="definition">Definition</h2><div class="doc-summary">Manages thread-safe, asynchronous updates to a value, ensuring efficiency by reducing unnecessary update operations.</div><pre dir="ltr"><code class="language-csharp">public sealed class AsyncUpdateThrottle&lt;T&gt; : IDisposable</code></pre><dl class="member-card"><dt>Inheritance</dt><dd><ul class="inline-list inheritance-list" aria-label="Inheritance hierarchy"><li><a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a></li><li aria-current="location">AsyncUpdateThrottle&lt;T&gt;</li></ul></dd><dt>Implements</dt><dd><ul class="inline-list"><li><a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference">IDisposable</a></li></ul></dd></dl><h2 id="type-parameters">Type Parameters</h2><dl class="param-list"><dt><code class="type-param-name">T</code></dt><dd>The type of the value to be managed, preferably immutable for thread safety.</dd></dl><h2 id="remarks">Remarks</h2><div class="doc-comment">This class provides a mechanism to update a value asynchronously while ensuring that updates are serialized and efficient. It is designed to prevent multiple, concurrent update operations from being processed if they are requested in quick succession. By employing a timing check before applying updates, the class ensures that only necessary updates proceed when the value has not been recently updated, making it ideal for scenarios where collecting or calculating the updated value is resource-intensive or costly.</div><h2 id="constructors">Constructors</h2><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1__ctor"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1__ctor">AsyncUpdateThrottle&lt;T&gt;()</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.Utilities.AsyncUpdateThrottle_1.html" rel="code-reference" class="see-link">AsyncUpdateThrottle&lt;T&gt;</a> class with a default value.</div><pre dir="ltr"><code class="language-csharp">public AsyncUpdateThrottle&lt;T&gt;()</code></pre><dl class="member-card"></dl></section><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1__ctor__0_"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1__ctor__0_">AsyncUpdateThrottle&lt;T&gt;(T)</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.Utilities.AsyncUpdateThrottle_1.html" rel="code-reference" class="see-link">AsyncUpdateThrottle&lt;T&gt;</a> class with a specified value.</div><pre dir="ltr"><code class="language-csharp">public AsyncUpdateThrottle&lt;T&gt;(T initialValue)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">initialValue</code> <span class="param-type">T</span></dt><dd>The initial value of the type <code class="type-param-name">T</code>.</dd></dl></section><h2 id="properties">Properties</h2><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_LastUpdateTime"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_LastUpdateTime">LastUpdateTime</h3><div class="doc-summary">Gets the time of the last successful update operation.</div><pre dir="ltr"><code class="language-csharp">public DateTimeOffset LastUpdateTime { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.datetimeoffset" rel="code-reference">DateTimeOffset</a></span></dt><dd>The time when the last successful update to the value was made. If no update has been applied, the value is <a href="https://learn.microsoft.com/dotnet/api/system.datetimeoffset.minvalue" rel="code-reference" class="see-link">DateTimeOffset.MinValue</a>.</dd></dl></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_Value"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_Value">Value</h3><div class="doc-summary">Gets the current value.</div><pre dir="ltr"><code class="language-csharp">public T Value { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type">T</span></dt><dd>The current value of type <code class="type-param-name">T</code>. This value is thread-safe to access and represents the most recent state managed by the <a href="Kampute.HttpClient.Utilities.AsyncUpdateThrottle_1.html" rel="code-reference" class="see-link">AsyncUpdateThrottle&lt;T&gt;</a>.</dd></dl></section><h2 id="methods">Methods</h2><section class="type-member is-method is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_Dispose"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_Dispose">Dispose()</h3><div class="doc-summary">Releases all resources used by the <a href="Kampute.HttpClient.Utilities.AsyncUpdateThrottle_1.html" rel="code-reference" class="see-link">AsyncUpdateThrottle&lt;T&gt;</a>.</div><pre dir="ltr"><code class="language-csharp">public void Dispose()</code></pre><dl class="member-card"></dl></section><section class="type-member is-method is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_TryUpdateAsync_System_Func{System_Threading_Tasks_Task{_0}}_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_Utilities_AsyncUpdateThrottle_1_TryUpdateAsync_System_Func{System_Threading_Tasks_Task{_0}}_System_Threading_CancellationToken_">TryUpdateAsync(Func&lt;Task&lt;T&gt;&gt;, CancellationToken)</h3><div class="doc-summary">Attempts to update the value asynchronously using the provided updater function.</div><pre dir="ltr"><code class="language-csharp">public Task&lt;bool&gt; TryUpdateAsync(Func&lt;Task&lt;T&gt;&gt; asyncUpdater, CancellationToken cancellationToken = default)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">asyncUpdater</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.func-1" rel="code-reference">Func</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;T&gt;&gt;</span></dt><dd>The asynchronous function used to update the value.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span> <span class="param-modifier">optional</span></dt><dd>A token for canceling the operation.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a>&gt;</span></dt><dd>A task that represents the asynchronous operation. The task result contains a boolean value that indicates whether the value was updated.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">asyncUpdater</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception" rel="code-reference">OperationCanceledException</a></dt><dd>Thrown if the operation is canceled via the cancellation token.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>This method allows for a thread-safe update of the value. The update will only be applied if no other update has been completed since this update attempt was initiated, preventing unnecessary updates or overwrites by concurrent operations.</p><p>If the update proceeds and is successful, the method returns <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">true</code></a>; if another update has already been applied, it returns <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">false</code></a>. This behavior ensures that the value reflects the most recent update attempt that was actually needed.</p></div></section><footer class="content-footer" role="contentinfo"><ul><li>Copyright Â© 2025 <a href="https://kampute.com/">Kampute</a></li><li>Site built with <a href="https://kampute.github.io/kampose/">Kampose</a>.</li></ul></footer></main><aside class="sidebar sidebar-right" role="complementary" aria-label="In this article" tabindex="-1"><div class="sidebar-header" aria-hidden="true"><h3>In this article</h3></div><nav id="article-navigation" class="sidebar-nav" data-max-level="3"></nav></aside></div><div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true"><div class="modal-container"><div class="modal-header"><h3 id="modal-title"></h3><button id="modal-close" type="button" class="modal-close-btn" aria-label="Close dialog">&times;</button></div><div class="modal-content"><div id="modal-body" class="modal-body"><iframe id="modal-iframe" frameborder="0" title="Dialog content"></iframe></div></div></div></div></body></html>