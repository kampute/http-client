<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Kampute.HttpClient - HttpRestClient Class</title><link rel="icon" href="../logo-dark.png"/><link rel="stylesheet" href="../style.css"/><script src="../script.js"></script><script src="../prism.min.js"></script><meta name="generator" content="Kampose [Version 0.1.2.0]"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Facilitates HTTP communication with RESTful APIs by wrapping HttpClient."/></head><body class="has-left-sidebar has-right-sidebar has-breadcrumb"><a href="#article" class="skip-link" aria-label="Skip to main content" tabindex="0">Skip to main content</a><header class="header" role="banner"><div class="header-main"><div class="brand" aria-label="Project title and logo"><img src="../logo-light.png" alt="Kampute.HttpClient logo" class="logo dark-mode"/> <img src="../logo-dark.png" alt="Kampute.HttpClient logo" class="logo light-mode"/><div class="project-info"><span class="project-name">Kampute.HttpClient</span> <span class="project-slogan">A lightweight .NET library that simplifies RESTful API communication.</span></div></div><nav id="menubar" class="menu-bar" role="navigation" aria-label="Main Menu" data-base-url="../" tabindex="-1"><ul class="menu" role="menubar" aria-labelledby="menubar"><li id="color-mode" class="menu-item has-submenu" role="menuitem" aria-hidden="true" tabindex="-1"><a><span class="icon selected-icon" aria-hidden="true"></span></a><ul class="menu" role="menu" aria-labelledby="color-mode" tabindex="-1"><li class="menu-item" data-mode="light" role="menuitemradio" aria-label="Light Color Mode" tabindex="-1"><a><span class="icon icon-light-color" aria-hidden="true"></span> <span>Light</span></a></li><li class="menu-item" data-mode="dark" role="menuitemradio" aria-label="Dark Color Mode" tabindex="-1"><a><span class="icon icon-dark-color" aria-hidden="true"></span> <span>Dark</span></a></li><li class="menu-item" data-mode="system" role="menuitemradio" aria-label="System Color Mode" tabindex="-1"><a><span class="icon icon-system-color" aria-hidden="true"></span> <span>System</span></a></li></ul></li></ul></nav></div><nav class="breadcrumb" role="navigation" aria-label="Breadcrumb" tabindex="-1"><ol><li class="is-topic"><a href="../index.html"><span class="name">Welcome to HttpClient</span></a></li><li class="is-topic"><a href="index.html"><span class="name">API</span></a></li><li class="is-namespace"><a href="Kampute.HttpClient.html"><span class="name">Kampute.HttpClient</span> <span class="category">Namespace</span></a></li><li class="is-class current-page" aria-current="page"><a href="Kampute.HttpClient.HttpRestClient.html"><span class="name">HttpRestClient</span> <span class="category">Class</span></a></li></ol></nav></header><div class="content"><aside class="sidebar sidebar-left" role="complementary" aria-label="Site navigation" tabindex="-1"><div class="sidebar-header"><div class="search-container" role="search"><input type="text" id="nav-search" class="nav-search" placeholder="Search..." aria-label="Search documentation" title="Type to filter content (Press / to focus)" autocomplete="off" spellcheck="false"><button id="clear-search" type="button" class="clear-search hidden" aria-label="Clear search" title="Clear" tabindex="-1"><span class="icon icon-delete" aria-hidden="true"></span></button> <span class="search-icon" aria-hidden="true"><span class="icon icon-search"></span></span></div></div><nav id="site-navigation" class="sidebar-nav" data-base-url="../"><div class="no-search-results hidden" aria-live="polite" role="status">No results found</div></nav></aside><main id="article" role="main" class="article has-expanded-members"><h1>HttpRestClient Class</h1><dl class="module-card"><dt>Namespace</dt><dd><a href="Kampute.HttpClient.html" rel="code-reference">Kampute.HttpClient</a></dd><dt>Assembly</dt><dd><ul class="inline-list"><li>Kampute.HttpClient.dll</li></ul></dd></dl><h2 id="definition">Definition</h2><div class="doc-summary">Facilitates HTTP communication with RESTful APIs by wrapping <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a>.</div><pre dir="ltr"><code class="language-csharp">public class HttpRestClient : IDisposable</code></pre><dl class="member-card"><dt>Inheritance</dt><dd><ul class="inline-list inheritance-list" aria-label="Inheritance hierarchy"><li><a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a></li><li aria-current="location">HttpRestClient</li></ul></dd><dt>Implements</dt><dd><ul class="inline-list"><li><a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference">IDisposable</a></li></ul></dd></dl><h2 id="remarks">Remarks</h2><div class="doc-comment"><p><a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> abstracts the complexities of <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a>, supporting the sharing of a single <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> instance across multiple <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> instances. This optimizes resource use and connection management, enhancing performance by reusing HTTP connections, especially during concurrent access to various services or API endpoints.</p><p>The client allows for scoped request headers and properties, providing temporary configurations that do not alter global settings. This ensures that changes remain isolated to specific contexts, increasing maintainability and reducing configuration errors during runtime.</p><p>It includes a <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ResponseDeserializers" rel="code-reference" class="see-link">ResponseDeserializers</a> collection that automatically deserializes HTTP response content into .NET objects based on the response's <code>Content-Type</code>. If the <code>Accept</code> header is not predefined, the client dynamically adjusts it based on the configured response deserializers and the expected .NET object type.</p><p>Transient failures and network interruptions are managed via the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BackoffStrategy" rel="code-reference" class="see-link">BackoffStrategy</a> property, which outlines retry logic and wait times between retries. This strategic approach helps avoid server overloads and improves communication success without excessive resource use.</p><p>Extensible error handling is enabled through the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ErrorHandlers" rel="code-reference" class="see-link">ErrorHandlers</a> collection, allowing custom <a href="Kampute.HttpClient.Interfaces.IHttpErrorHandler.html" rel="code-reference" class="see-link">IHttpErrorHandler</a> implementations to handle specific HTTP errors with tailored strategies.</p><p>Lifecycle events like <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BeforeSendingRequest" rel="code-reference" class="see-link">BeforeSendingRequest</a> and <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_AfterReceivingResponse" rel="code-reference" class="see-link">AfterReceivingResponse</a> enhance request and response handling by enabling modifications, inspections, and logging, allowing for a highly customizable interaction.</p></div><h2 id="constructors">Constructors</h2><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient__ctor"><h3 id="Kampute_HttpClient_HttpRestClient__ctor">HttpRestClient()</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> class.</div><pre dir="ltr"><code class="language-csharp">public HttpRestClient()</code></pre><dl class="member-card"></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This constructor initializes the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> using a shared <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> instance acquired from the <a href="Kampute.HttpClient.Utilities.SharedHttpClient.html" rel="code-reference" class="see-link">SharedHttpClient</a> static class.</div></section><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient__ctor_Kampute_HttpClient_Utilities_SharedDisposable{System_Net_Http_HttpClient}_Reference_"><h3 id="Kampute_HttpClient_HttpRestClient__ctor_Kampute_HttpClient_Utilities_SharedDisposable{System_Net_Http_HttpClient}_Reference_">HttpRestClient(SharedDisposable&lt;HttpClient&gt;.Reference)</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> class with the specified shared <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> reference.</div><pre dir="ltr"><code class="language-csharp">public HttpRestClient(SharedDisposable&lt;HttpClient&gt;.Reference httpClientReference)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">httpClientReference</code> <span class="param-type"><a href="Kampute.HttpClient.Utilities.SharedDisposable_1.html" rel="code-reference">SharedDisposable</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference">HttpClient</a>&gt;.<a href="Kampute.HttpClient.Utilities.SharedDisposable_1.Reference.html" rel="code-reference">Reference</a></span></dt><dd>A reference to a shared <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> instance, managed as <a href="Kampute.HttpClient.Utilities.SharedDisposable_1.Reference.html" rel="code-reference" class="see-link">SharedDisposable&lt;T&gt;.Reference</a>.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">httpClientReference</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>&gt;.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This constructor takes ownership of the shared <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> reference and ensures it is properly released when the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> is disposed.</div></section><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient__ctor_System_Net_Http_HttpClient_System_Boolean_"><h3 id="Kampute_HttpClient_HttpRestClient__ctor_System_Net_Http_HttpClient_System_Boolean_">HttpRestClient(HttpClient, bool)</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> class with the specified <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a>.</div><pre dir="ltr"><code class="language-csharp">public HttpRestClient(HttpClient httpClient, bool disposeClient = true)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">httpClient</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference">HttpClient</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> to be used by the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a>.</dd><dt><code class="param-name">disposeClient</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a></span> <span class="param-modifier">optional</span></dt><dd>Specifies whether the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> should dispose of the provided <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> when the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> is disposed.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">httpClient</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl></section><h2 id="properties">Properties</h2><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_BackoffStrategy"><h3 id="Kampute_HttpClient_HttpRestClient_BackoffStrategy">BackoffStrategy</h3><div class="doc-summary">Gets or sets the backoff strategy for handling transient connection failures during HTTP requests.</div><pre dir="ltr"><code class="language-csharp">public IHttpBackoffProvider BackoffStrategy { get; set; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="Kampute.HttpClient.Interfaces.IHttpBackoffProvider.html" rel="code-reference">IHttpBackoffProvider</a></span></dt><dd>The backoff strategy for handling transient connection failures during HTTP requests.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This property specifies the retry logic applied exclusively to connection failures, not to the processing of server responses. It determines if and when the client should retry a failed connection attempt before giving up. This approach is crucial for dealing with transient network issues or temporary server unavailability. The default is <a href="Kampute.HttpClient.BackoffStrategies.html#Kampute_HttpClient_BackoffStrategies_None" rel="code-reference" class="see-link">BackoffStrategies.None</a>.</div></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_BaseAddress"><h3 id="Kampute_HttpClient_HttpRestClient_BaseAddress">BaseAddress</h3><div class="doc-summary">Gets or sets the base address for HTTP requests.</div><pre dir="ltr"><code class="language-csharp">public Uri BaseAddress { get; set; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.uri" rel="code-reference">Uri</a></span></dt><dd>The base address for HTTP requests.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>If the provided base address does not end with a slash, one is automatically appended. The presence or absence of this trailing slash is significant in how relative URLs are resolved. For instance, if the base address is <a href="http://example.com/api" class="see-link">http://example.com/api</a> (no trailing slash) and the relative URL is "users", the resolved URL will be <a href="http://example.com/users" class="see-link">http://example.com/users</a>. Conversely, if the base address ends with a slash, like <a href="http://example.com/api/" class="see-link">http://example.com/api/</a>, the resolved URL will be <a href="http://example.com/api/users" class="see-link">http://example.com/api/users</a>. This subtle difference can be crucial in ensuring requests are routed correctly.</p><p>It's also worth noting that a <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a> value for the base address is acceptable and indicates that no base address is set. In such cases, any HTTP request must use an absolute URL.</p></div></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DefaultRequestHeaders"><h3 id="Kampute_HttpClient_HttpRestClient_DefaultRequestHeaders">DefaultRequestHeaders</h3><div class="doc-summary">Gets the headers which should be sent with each request.</div><pre dir="ltr"><code class="language-csharp">public HttpRequestHeaders DefaultRequestHeaders { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.headers.httprequestheaders" rel="code-reference">HttpRequestHeaders</a></span></dt><dd>The headers which should be sent with each request.</dd></dl></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_ErrorHandlers"><h3 id="Kampute_HttpClient_HttpRestClient_ErrorHandlers">ErrorHandlers</h3><div class="doc-summary">Gets the mutable collection of HTTP error handlers used for handling error responses.</div><pre dir="ltr"><code class="language-csharp">public HttpErrorHandlerCollection ErrorHandlers { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="Kampute.HttpClient.HttpErrorHandlerCollection.html" rel="code-reference">HttpErrorHandlerCollection</a></span></dt><dd>The mutable collection of HTTP error handlers used for handling error responses.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This property provides access to a collection of <a href="Kampute.HttpClient.Interfaces.IHttpErrorHandler.html" rel="code-reference" class="see-link">IHttpErrorHandler</a> instances that are used to handle HTTP error responses. The handlers in this collection are tried in order to handle errors.</div></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_ResponseDeserializers"><h3 id="Kampute_HttpClient_HttpRestClient_ResponseDeserializers">ResponseDeserializers</h3><div class="doc-summary">Gets the mutable collection of HTTP content deserializers used for deserializing response content.</div><pre dir="ltr"><code class="language-csharp">public HttpContentDeserializerCollection ResponseDeserializers { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="Kampute.HttpClient.HttpContentDeserializerCollection.html" rel="code-reference">HttpContentDeserializerCollection</a></span></dt><dd>The mutable collection of HTTP content deserializers used for deserializing response content.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This property provides access to a collection of <a href="Kampute.HttpClient.Interfaces.IHttpContentDeserializer.html" rel="code-reference" class="see-link">IHttpContentDeserializer</a> instances that are used to deserialize the content of HTTP responses. The deserializers in this list are tried in order to deserialize the response content into .NET objects.</div></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_ResponseErrorType"><h3 id="Kampute_HttpClient_HttpRestClient_ResponseErrorType">ResponseErrorType</h3><div class="doc-summary">Gets or sets the <a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference" class="see-link">Type</a> used to deserialize the response body when the response status code indicates an error.</div><pre dir="ltr"><code class="language-csharp">public Type ResponseErrorType { get; set; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference">Type</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference" class="see-link">Type</a> used to deserialize the response body when the response status code indicates an error.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>This property specifies the <a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference" class="see-link">Type</a> that the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> will use to deserialize the response content in cases where the HTTP response indicates an error. It is important to ensure that the custom type specified is compatible with the expected error response format and can be deserialized by the content deserializers available to the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a>.</p><p>When the specified type implements the <a href="Kampute.HttpClient.Interfaces.IHttpErrorResponse.html" rel="code-reference" class="see-link">IHttpErrorResponse</a> interface, the deserialized object is utilized to construct a more informative exception. This mechanism enables the integration of custom error handling strategies by leveraging structured error information returned from the server.</p></div></section><h2 id="methods">Methods</h2><section class="type-member is-method is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_BeginHeaderScope_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_"><h3 id="Kampute_HttpClient_HttpRestClient_BeginHeaderScope_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_">BeginHeaderScope(IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;)</h3><div class="doc-summary">Begins a new scope with the specified request headers.</div><pre dir="ltr"><code class="language-csharp">public virtual IDisposable BeginHeaderScope(IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt; headers)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">headers</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1" rel="code-reference">IEnumerable</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.collections.generic.keyvaluepair-2" rel="code-reference">KeyValuePair</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a>, <a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a>&gt;&gt;</span></dt><dd>The request headers to be applied exclusively during the lifetime of the new scope.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference">IDisposable</a></span></dt><dd>An <a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference" class="see-link">IDisposable</a> representing the new scope. Disposing of this object will end the scope and revert changes in the request headers.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">headers</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>This method creates a scope associated with the current <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> instance to add, modify or remove any request header in subsequent requests during the lifetime of this scope. To remove a header, use <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a> for its value.</p><p>Any header modifications made within this scope take precedence over the client's default headers. Header adjustments by other active scopes are overridden by those provided in this scope. However, the default request headers set on the underlying <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> instance take precedence over the default and scoped headers of the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> instance because they are applied later in the message handler pipeline. To avoid conflicts, it is recommended to keep the default request headers of the underlying <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpclient" rel="code-reference" class="see-link">HttpClient</a> instance empty.</p><p>Upon disposing of the scope, all header adjustments are reverted, restoring the headers to their state before the scope was activated.</p></div></section><section class="type-member is-method is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_BeginPropertyScope_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_Object}}_"><h3 id="Kampute_HttpClient_HttpRestClient_BeginPropertyScope_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_Object}}_">BeginPropertyScope(IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;)</h3><div class="doc-summary">Begins a new scope with the specified request properties.</div><pre dir="ltr"><code class="language-csharp">public virtual IDisposable BeginPropertyScope(IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt; properties)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">properties</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1" rel="code-reference">IEnumerable</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.collections.generic.keyvaluepair-2" rel="code-reference">KeyValuePair</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a>, <a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a>&gt;&gt;</span></dt><dd>The request properties to be applied exclusively during the lifetime of the new scope.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference">IDisposable</a></span></dt><dd>An <a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference" class="see-link">IDisposable</a> representing the new scope. Disposing of this object will end the scope and revert changes in the request properties.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">properties</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>This method creates a scope associated with the current <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> instance to add, modify or remove any request properties in subsequent requests during the lifetime of this scope. To remove a property, use <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a> for its value.</p><p>Upon disposing of the scope, all property adjustments are reverted, restoring the properties to their state before the scope was activated.</p></div></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_CreateHttpRequest_System_Net_Http_HttpMethod_System_String_System_Type_"><h3 id="Kampute_HttpClient_HttpRestClient_CreateHttpRequest_System_Net_Http_HttpMethod_System_String_System_Type_">CreateHttpRequest(HttpMethod, string, Type)</h3><div class="doc-summary">Creates an <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> with the specified method and URI.</div><pre dir="ltr"><code class="language-csharp">protected virtual HttpRequestMessage CreateHttpRequest(HttpMethod method, string uri, Type responseObjectType)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">method</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpmethod" rel="code-reference">HttpMethod</a></span></dt><dd>The HTTP method to be used for the request, such as GET, POST, PUT, etc.</dd><dt><code class="param-name">uri</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The URI to which the request will be sent. Should be a valid, fully qualified URL.</dd><dt><code class="param-name">responseObjectType</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference">Type</a></span></dt><dd>The type of the object expected to be contained in the response.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>An <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> configured with the specified method and URI.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">method</code> or <code class="param-name">uri</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment"><p>This method constructs a new HTTP request message by setting the HTTP method and URI. It prepares the request for transmission by configuring both the headers and custom properties appropriate for the given context and operation.</p><p>Headers are added or adjusted from both the default headers provided by the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_DefaultRequestHeaders" rel="code-reference" class="see-link">DefaultRequestHeaders</a> property and any scoped headers that are active at the time of this request’s creation. Scoped headers are prioritized over default headers in case of key conflicts to ensure that context-specific modifications are respected.</p><p>If an <code>Accept</code> header is absent in both default and scoped headers, it is added based on the media types supported by the content deserializers for the specified <code class="param-name">responseObjectType</code>. If <code class="param-name">responseObjectType</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>, the header defaults to accepting all media types ("*/*").</p><p>This method also includes scoped properties in the HTTP request message to provide additional context and facilitate easier tracking and processing of the request. In addition to the scoped properties, the following properties are added:<ul class="list-items"><li><span class="term"><a href="Kampute.HttpClient.HttpRequestMessagePropertyKeys.html#Kampute_HttpClient_HttpRequestMessagePropertyKeys_TransactionId" rel="code-reference" class="see-link">HttpRequestMessagePropertyKeys.TransactionId</a></span><span class="term-separator">–</span> A unique identifier (<a href="https://learn.microsoft.com/dotnet/api/system.guid" rel="code-reference" class="see-link">Guid</a>) generated and assigned to each request, aiding in the request's tracking, debugging, and logging processes. The unique identifier ensures that each request can be individually tracked, even when multiple requests are executed simultaneously or when requests are retried due to transient failures.</li><li><span class="term"><a href="Kampute.HttpClient.HttpRequestMessagePropertyKeys.html#Kampute_HttpClient_HttpRequestMessagePropertyKeys_ResponseObjectType" rel="code-reference" class="see-link">HttpRequestMessagePropertyKeys.ResponseObjectType</a></span><span class="term-separator">–</span> Defines the .NET type (<a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference" class="see-link">Type</a>) expected in the response, if any. This metadata provides context that can improve debugging, enhance logging details, and support error recovery strategies.</li></ul></p></div></section><section class="type-member is-method has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DecideOnRetryAsync_System_Net_Http_HttpRequestException_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_DecideOnRetryAsync_System_Net_Http_HttpRequestException_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_">DecideOnRetryAsync(HttpRequestException, HttpRequestMessage, CancellationToken)</h3><div class="doc-summary">Asynchronously evaluates transient network issues to decide the appropriate action based on the error context and predefined error handling strategies.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;HttpErrorHandlerResult&gt; DecideOnRetryAsync(HttpRequestException error, HttpRequestMessage request, CancellationToken cancellationToken)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">error</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference">HttpRequestException</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference" class="see-link">HttpRequestException</a> encapsulating details of the encountered error during the HTTP request execution.</dd><dt><code class="param-name">request</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> that led to the failed response.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span></dt><dd>A token for canceling the operation.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference">HttpErrorHandlerResult</a>&gt;</span></dt><dd>A task that resolves to an <a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference" class="see-link">HttpErrorHandlerResult</a>, indicating whether to retry the request or that the error is unrecoverable.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">error</code> or <code class="param-name">request</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method assesses transient network issues, leveraging backoff strategies specified by <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BackoffStrategy" rel="code-reference" class="see-link">BackoffStrategy</a>. It returns an <a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference" class="see-link">HttpErrorHandlerResult</a> that guides the next steps, either to retry the request with potentially modified parameters or to handle the error as unrecoverable.</div><h4 id="see-also">See Also</h4><ul class="see-also-list"><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BackoffStrategy" rel="code-reference">HttpRestClient.BackoffStrategy <span class="category">Property</span></a></li></ul></section><section class="type-member is-method has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DecideOnRetryAsync_Kampute_HttpClient_HttpResponseException_System_Net_Http_HttpRequestMessage_System_Net_Http_HttpResponseMessage_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_DecideOnRetryAsync_Kampute_HttpClient_HttpResponseException_System_Net_Http_HttpRequestMessage_System_Net_Http_HttpResponseMessage_System_Threading_CancellationToken_">DecideOnRetryAsync(HttpResponseException, HttpRequestMessage, HttpResponseMessage, CancellationToken)</h3><div class="doc-summary">Asynchronously evaluates failed HTTP responses to decide the appropriate action based on the error context and predefined error handling strategies.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;HttpErrorHandlerResult&gt; DecideOnRetryAsync(
	HttpResponseException error,
	HttpRequestMessage request,
	HttpResponseMessage response,
	CancellationToken cancellationToken)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">error</code> <span class="param-type"><a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a></span></dt><dd>The <a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference" class="see-link">HttpResponseException</a> encapsulating details of the encountered error during the HTTP request execution.</dd><dt><code class="param-name">request</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> that led to the failed response.</dd><dt><code class="param-name">response</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a></span></dt><dd>The received <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> indicating a failure.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span></dt><dd>A token for canceling the operation.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference">HttpErrorHandlerResult</a>&gt;</span></dt><dd>A task that resolves to an <a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference" class="see-link">HttpErrorHandlerResult</a>, indicating whether to retry the request or that the error is unrecoverable.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">error</code>, <code class="param-name">request</code> or <code class="param-name">response</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method assesses HTTP request failures, leveraging error handling strategies within <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ErrorHandlers" rel="code-reference" class="see-link">ErrorHandlers</a>. It returns an <a href="Kampute.HttpClient.HttpErrorHandlerResult.html" rel="code-reference" class="see-link">HttpErrorHandlerResult</a> that guides the next steps, either to retry the request with potentially modified parameters or to handle the error as unrecoverable.</div><h4 id="see-also">See Also</h4><ul class="see-also-list"><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ErrorHandlers" rel="code-reference">HttpRestClient.ErrorHandlers <span class="category">Property</span></a></li></ul></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DeserializeContentAsync_System_Net_Http_HttpResponseMessage_System_Type_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_DeserializeContentAsync_System_Net_Http_HttpResponseMessage_System_Type_System_Threading_CancellationToken_">DeserializeContentAsync(HttpResponseMessage, Type, CancellationToken)</h3><div class="doc-summary">Asynchronously deserializes the body of an <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> and converts it into an object of a specified type.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;object&gt; DeserializeContentAsync(HttpResponseMessage response, Type objectType, CancellationToken cancellationToken)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">response</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> to be read.</dd><dt><code class="param-name">objectType</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.type" rel="code-reference">Type</a></span></dt><dd>The type of object to which the response body is to be converted.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span></dt><dd>A token for canceling the operation.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a>&gt;</span></dt><dd>A task representing the asynchronous operation, with the deserialized response body as an object.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">response</code> or <code class="param-name">objectType</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd><dt><a href="Kampute.HttpClient.HttpContentException.html" rel="code-reference">HttpContentException</a></dt><dd>Thrown when the response body is empty, the content type is unsupported, or parsing the response fails.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method uses configured content deserializers for content deserialization and supports custom content types. In case of deserialization failures, an <a href="Kampute.HttpClient.HttpContentException.html" rel="code-reference" class="see-link">HttpContentException</a> is thrown, which may contain an inner exception providing more details about the parsing error.</div><h4 id="see-also">See Also</h4><ul class="see-also-list"><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ResponseDeserializers" rel="code-reference">HttpRestClient.ResponseDeserializers <span class="category">Property</span></a></li></ul></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DispatchAsync_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_DispatchAsync_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_">DispatchAsync(HttpRequestMessage, CancellationToken)</h3><div class="doc-summary">Asynchronously dispatches an HTTP request.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;HttpResponseMessage&gt; DispatchAsync(HttpRequestMessage request, CancellationToken cancellationToken)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">request</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> to send.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span></dt><dd>A token for canceling the request.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a>&gt;</span></dt><dd>A task that represents the asynchronous operation, with a result of the <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> received in response to the request.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a></dt><dd>Thrown if the response status code indicates a failure.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference">HttpRequestException</a></dt><dd>Thrown if the request fails due to an underlying issue such as network connectivity, DNS failure, server certificate validation, or timeout.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception" rel="code-reference">OperationCanceledException</a></dt><dd>Thrown if the operation is canceled via the cancellation token.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method sends the provided HTTP request and returns the response if the status code indicates a success. For any error status codes, it fails fast by throwing an exception specific to the nature of the error. Additionally, the method incorporates pre-send and post-receive hooks for adding custom logic, such as modifying request headers or logging response details.</div></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_DispatchWithRetriesAsync_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_DispatchWithRetriesAsync_System_Net_Http_HttpRequestMessage_System_Threading_CancellationToken_">DispatchWithRetriesAsync(HttpRequestMessage, CancellationToken)</h3><div class="doc-summary">Sends an asynchronous HTTP request, with the possibility of retrying the request based on specific failure conditions.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;HttpResponseMessage&gt; DispatchWithRetriesAsync(HttpRequestMessage request, CancellationToken cancellationToken = default)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">request</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>The <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> to send.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span> <span class="param-modifier">optional</span></dt><dd>A token for canceling the request (optional).</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a>&gt;</span></dt><dd>A task that represents the asynchronous operation, with a result of the <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> received in response to the request.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">request</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd><dt><a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a></dt><dd>Thrown if the response status code indicates a failure.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference">HttpRequestException</a></dt><dd>Thrown if the request fails due to an underlying issue such as network connectivity, DNS failure, server certificate validation, or timeout.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception" rel="code-reference">OperationCanceledException</a></dt><dd>Thrown if the operation is canceled via the cancellation token.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method is responsible for sending the HTTP request and optionally retrying it under specific failure conditions. The decision to retry a request is based on the nature of the failure, with potential consultation of external retry logic mechanisms.</div><h4 id="see-also">See Also</h4><ul class="see-also-list"><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BackoffStrategy" rel="code-reference">HttpRestClient.BackoffStrategy <span class="category">Property</span></a></li><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ErrorHandlers" rel="code-reference">HttpRestClient.ErrorHandlers <span class="category">Property</span></a></li></ul></section><section class="type-member is-method is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_Dispose"><h3 id="Kampute_HttpClient_HttpRestClient_Dispose">Dispose()</h3><div class="doc-summary">Releases the unmanaged resources used by the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> and optionally disposes of the managed resources.</div><pre dir="ltr"><code class="language-csharp">public void Dispose()</code></pre><dl class="member-card"></dl></section><section class="type-member is-method has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_Dispose_System_Boolean_"><h3 id="Kampute_HttpClient_HttpRestClient_Dispose_System_Boolean_">Dispose(bool)</h3><div class="doc-summary">Disposes the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> instance.</div><pre dir="ltr"><code class="language-csharp">protected virtual void Dispose(bool disposing)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">disposing</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a></span></dt><dd>Indicates whether the method is called from a <a href="https://learn.microsoft.com/dotnet/api/system.idisposable.dispose" rel="code-reference" class="see-link">IDisposable.Dispose()</a> method.</dd></dl></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_Finalize"><h3 id="Kampute_HttpClient_HttpRestClient_Finalize">Finalize()</h3><div class="doc-summary">Releases unmanaged resources.</div><pre dir="ltr"><code class="language-csharp">protected override void Finalize()</code></pre><dl class="member-card"></dl></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_OnAfterReceivingResponse_System_Net_Http_HttpResponseMessage_"><h3 id="Kampute_HttpClient_HttpRestClient_OnAfterReceivingResponse_System_Net_Http_HttpResponseMessage_">OnAfterReceivingResponse(HttpResponseMessage)</h3><div class="doc-summary">Raises the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_AfterReceivingResponse" rel="code-reference" class="see-link">AfterReceivingResponse</a> event.</div><pre dir="ltr"><code class="language-csharp">protected virtual void OnAfterReceivingResponse(HttpResponseMessage response)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">response</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a></span></dt><dd>The HTTP response message that was received.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method is called to trigger the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_AfterReceivingResponse" rel="code-reference" class="see-link">AfterReceivingResponse</a> event. This allows to react to the reception of an HTTP response. The method is invoked after a response is received from an HTTP request but before any processing is performed on the response.</div></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_OnBeforeSendingRequest_System_Net_Http_HttpRequestMessage_"><h3 id="Kampute_HttpClient_HttpRestClient_OnBeforeSendingRequest_System_Net_Http_HttpRequestMessage_">OnBeforeSendingRequest(HttpRequestMessage)</h3><div class="doc-summary">Raises the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BeforeSendingRequest" rel="code-reference" class="see-link">BeforeSendingRequest</a> event.</div><pre dir="ltr"><code class="language-csharp">protected virtual void OnBeforeSendingRequest(HttpRequestMessage request)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">request</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference">HttpRequestMessage</a></span></dt><dd>The HTTP request message that was created.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method is called to trigger the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_BeforeSendingRequest" rel="code-reference" class="see-link">BeforeSendingRequest</a> event. This allows for centralized handling of request modifications across various methods that send HTTP requests. The method is invoked before an <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> is sent.</div></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_OnDisposing"><h3 id="Kampute_HttpClient_HttpRestClient_OnDisposing">OnDisposing()</h3><div class="doc-summary">Raises the <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_Disposing" rel="code-reference" class="see-link">Disposing</a> event.</div><pre dir="ltr"><code class="language-csharp">protected virtual void OnDisposing()</code></pre><dl class="member-card"></dl></section><section class="type-member is-method is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_SendAsync__1_System_Net_Http_HttpMethod_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_SendAsync__1_System_Net_Http_HttpMethod_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_">SendAsync&lt;T&gt;(HttpMethod, string, HttpContent, CancellationToken)</h3><div class="doc-summary">Sends an asynchronous HTTP request with the specified method, URI, and payload, returning response body deserialized as the specified type.</div><pre dir="ltr"><code class="language-csharp">public virtual Task&lt;T&gt; SendAsync&lt;T&gt;(
	HttpMethod method,
	string uri,
	HttpContent payload = null,
	CancellationToken cancellationToken = default)</code></pre><dl class="member-card"></dl><h4 id="type-parameters">Type Parameters</h4><dl class="param-list"><dt><code class="type-param-name">T</code></dt><dd>The type of the response object.</dd></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">method</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpmethod" rel="code-reference">HttpMethod</a></span></dt><dd>The HTTP method to use for the request.</dd><dt><code class="param-name">uri</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The URI to which the request is sent.</dd><dt><code class="param-name">payload</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpcontent" rel="code-reference">HttpContent</a></span> <span class="param-modifier">optional</span></dt><dd>The HTTP request payload content (optional).</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span> <span class="param-modifier">optional</span></dt><dd>A token for canceling the request (optional).</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;T&gt;</span></dt><dd>A task that represents the asynchronous operation, with a result of the specified type.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">method</code> or <code class="param-name">uri</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd><dt><a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a></dt><dd>Thrown if the response status code indicates a failure.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference">HttpRequestException</a></dt><dd>Thrown if the request fails due to an underlying issue such as network connectivity, DNS failure, server certificate validation, or timeout.</dd><dt><a href="Kampute.HttpClient.HttpContentException.html" rel="code-reference">HttpContentException</a></dt><dd>Thrown if the response body is empty or its media type is not supported.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception" rel="code-reference">OperationCanceledException</a></dt><dd>Thrown if the operation is canceled via the cancellation token.</dd></dl></section><section class="type-member is-method is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_SendAsync_System_Net_Http_HttpMethod_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_SendAsync_System_Net_Http_HttpMethod_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_">SendAsync(HttpMethod, string, HttpContent, CancellationToken)</h3><div class="doc-summary">Sends an asynchronous HTTP request with the specified method, URI, and payload, without processing the response body.</div><pre dir="ltr"><code class="language-csharp">public virtual Task&lt;HttpResponseMessage&gt; SendAsync(
	HttpMethod method,
	string uri,
	HttpContent payload = null,
	CancellationToken cancellationToken = default)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">method</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpmethod" rel="code-reference">HttpMethod</a></span></dt><dd>The HTTP method to use for the request.</dd><dt><code class="param-name">uri</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The URI to which the request is sent.</dd><dt><code class="param-name">payload</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpcontent" rel="code-reference">HttpContent</a></span> <span class="param-modifier">optional</span></dt><dd>The HTTP request payload content (optional).</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span> <span class="param-modifier">optional</span></dt><dd>A token for canceling the request (optional).</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a>&gt;</span></dt><dd>A task that represents the asynchronous operation. The task result contains the response.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">method</code> or <code class="param-name">uri</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd><dt><a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a></dt><dd>Thrown if the response status code indicates a failure.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestexception" rel="code-reference">HttpRequestException</a></dt><dd>Thrown if the request fails due to an underlying issue such as network connectivity, DNS failure, server certificate validation, or timeout.</dd><dt><a href="https://learn.microsoft.com/dotnet/api/system.operationcanceledexception" rel="code-reference">OperationCanceledException</a></dt><dd>Thrown if the operation is canceled via the cancellation token.</dd></dl></section><section class="type-member is-method" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_ToExceptionAsync_System_Net_Http_HttpResponseMessage_System_Threading_CancellationToken_"><h3 id="Kampute_HttpClient_HttpRestClient_ToExceptionAsync_System_Net_Http_HttpResponseMessage_System_Threading_CancellationToken_">ToExceptionAsync(HttpResponseMessage, CancellationToken)</h3><div class="doc-summary">Converts an <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a> into an appropriate exception.</div><pre dir="ltr"><code class="language-csharp">protected virtual Task&lt;HttpResponseException&gt; ToExceptionAsync(HttpResponseMessage response, CancellationToken cancellationToken)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">response</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference">HttpResponseMessage</a></span></dt><dd>The HTTP response message to convert.</dd><dt><code class="param-name">cancellationToken</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken" rel="code-reference">CancellationToken</a></span></dt><dd>A token for canceling the operation.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1" rel="code-reference">Task</a>&lt;<a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference">HttpResponseException</a>&gt;</span></dt><dd>A task that represents the asynchronous operation. The task result contains an <a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference" class="see-link">HttpResponseException</a> object that represents the error extracted from the response.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">response</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method endeavors to deserialize the response content into a <a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ResponseErrorType" rel="code-reference" class="see-link">ResponseErrorType</a>, provided that the type is specified and implements the <a href="Kampute.HttpClient.Interfaces.IHttpErrorResponse.html" rel="code-reference" class="see-link">IHttpErrorResponse</a> interface. Upon successful deserialization, the resulting data is transformed into an exception. If deserialization fails, a generic <a href="Kampute.HttpClient.HttpResponseException.html" rel="code-reference" class="see-link">HttpResponseException</a> is generated, incorporating the response's status code and a default error message.</div><h4 id="see-also">See Also</h4><ul class="see-also-list"><li class="is-property"><a href="Kampute.HttpClient.HttpRestClient.html#Kampute_HttpClient_HttpRestClient_ResponseErrorType" rel="code-reference">HttpRestClient.ResponseErrorType <span class="category">Property</span></a></li></ul></section><h2 id="events">Events</h2><section class="type-member is-event is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_AfterReceivingResponse"><h3 id="Kampute_HttpClient_HttpRestClient_AfterReceivingResponse">AfterReceivingResponse</h3><div class="doc-summary">Occurs when an HTTP response has been received.</div><pre dir="ltr"><code class="language-csharp">public event EventHandler&lt;HttpResponseMessageEventArgs&gt; AfterReceivingResponse</code></pre><dl class="member-card"></dl><h4 id="event-type">Event Type</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1" rel="code-reference">EventHandler</a>&lt;<a href="Kampute.HttpClient.HttpResponseMessageEventArgs.html" rel="code-reference">HttpResponseMessageEventArgs</a>&gt;</span></dt></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This event is raised after an HTTP response is received but before the response is processed further. It provides a way for subscribers to inspect the <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httpresponsemessage" rel="code-reference" class="see-link">HttpResponseMessage</a>. This can be useful for logging response details, handling specific HTTP status codes, or modifying the response content or headers before they are processed by the rest of the application.</div></section><section class="type-member is-event is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_BeforeSendingRequest"><h3 id="Kampute_HttpClient_HttpRestClient_BeforeSendingRequest">BeforeSendingRequest</h3><div class="doc-summary">Occurs when a new HTTP request message is about to be sent.</div><pre dir="ltr"><code class="language-csharp">public event EventHandler&lt;HttpRequestMessageEventArgs&gt; BeforeSendingRequest</code></pre><dl class="member-card"></dl><h4 id="event-type">Event Type</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1" rel="code-reference">EventHandler</a>&lt;<a href="Kampute.HttpClient.HttpRequestMessageEventArgs.html" rel="code-reference">HttpRequestMessageEventArgs</a>&gt;</span></dt></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This event provides an opportunity for subscribers to modify the <a href="https://learn.microsoft.com/dotnet/api/system.net.http.httprequestmessage" rel="code-reference" class="see-link">HttpRequestMessage</a> before it is sent. Common modifications include adding custom headers, changing request properties, or logging request information. Modifications made to the request in this event are included in the outgoing HTTP request.</div></section><section class="type-member is-event is-public" role="region" aria-labelledby="Kampute_HttpClient_HttpRestClient_Disposing"><h3 id="Kampute_HttpClient_HttpRestClient_Disposing">Disposing</h3><div class="doc-summary">Occurs just before the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a> is disposed.</div><pre dir="ltr"><code class="language-csharp">public event EventHandler&lt;EventArgs&gt; Disposing</code></pre><dl class="member-card"></dl><h4 id="event-type">Event Type</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.eventhandler-1" rel="code-reference">EventHandler</a>&lt;<a href="https://learn.microsoft.com/dotnet/api/system.eventargs" rel="code-reference">EventArgs</a>&gt;</span></dt></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This event provides a way for subscribers to perform cleanup or other actions before the client is disposed.</div></section><h2 id="extension-methods">Extension Methods</h2><table class="summary-list"><tbody><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_DeleteAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">DeleteAsync&lt;T&gt;(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous DELETE request to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_DeleteAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">DeleteAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous DELETE request to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_DownloadAsync_Kampute_HttpClient_HttpRestClient_System_Net_Http_HttpMethod_System_String_System_Net_Http_HttpContent_System_Func{System_Net_Http_Headers_HttpContentHeaders_System_IO_Stream}_System_Threading_CancellationToken_" rel="code-reference">DownloadAsync(this HttpRestClient, HttpMethod, string, HttpContent, Func&lt;HttpContentHeaders, Stream&gt;, CancellationToken)</a></td><td>Sends an asynchronous HTTP request with the specified method, URI, and payload, returning the response content as a stream.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_GetAsByteArrayAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">GetAsByteArrayAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous GET request to the specified URI and returns the response body as an array of bytes.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_GetAsStreamAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">GetAsStreamAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous GET request to the specified URI and returns the response body as a <a href="https://learn.microsoft.com/dotnet/api/system.io.stream" rel="code-reference" class="see-link">Stream</a>.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_GetAsStringAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">GetAsStringAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous GET request to the specified URI and returns the response body as a string.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_GetAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">GetAsync&lt;T&gt;(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous GET request to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_GetToStreamAsync_Kampute_HttpClient_HttpRestClient_System_String_System_IO_Stream_System_Threading_CancellationToken_" rel="code-reference">GetToStreamAsync(this HttpRestClient, string, Stream, CancellationToken)</a></td><td>Sends an asynchronous GET request to the specified URI and write the response body into the provided <a href="https://learn.microsoft.com/dotnet/api/system.io.stream" rel="code-reference" class="see-link">Stream</a>.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_HeadAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">HeadAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous HEAD request to the specified URI and returns the response headers.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_OptionsAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Threading_CancellationToken_" rel="code-reference">OptionsAsync(this HttpRestClient, string, CancellationToken)</a></td><td>Sends an asynchronous OPTIONS request to the specified URI and returns the response headers.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PatchAsFormAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PatchAsFormAsync&lt;T&gt;(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous PATCH request with URL-encoded form content to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PatchAsFormAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PatchAsFormAsync(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous PATCH request with URL-encoded form content to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PatchAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PatchAsync&lt;T&gt;(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous PATCH request to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PatchAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PatchAsync(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous PATCH request to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PostAsFormAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PostAsFormAsync&lt;T&gt;(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous POST request with URL-encoded form content to the specified URI.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PostAsFormAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PostAsFormAsync(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous POST request with URL-encoded form content to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PostAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PostAsync&lt;T&gt;(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous POST request to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PostAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PostAsync(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous POST request to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PutAsFormAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PutAsFormAsync&lt;T&gt;(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous PUT request with URL-encoded form content to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_PutAsFormAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">PutAsFormAsync(this HttpRestClient, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous PUT request with URL-encoded form content to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PutAsync__1_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PutAsync&lt;T&gt;(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous PUT request to the specified URI and returns the response body deserialized as the specified type.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_PutAsync_Kampute_HttpClient_HttpRestClient_System_String_System_Net_Http_HttpContent_System_Threading_CancellationToken_" rel="code-reference">PutAsync(this HttpRestClient, string, HttpContent, CancellationToken)</a></td><td>Sends an asynchronous PUT request to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_SendAsFormAsync__1_Kampute_HttpClient_HttpRestClient_System_Net_Http_HttpMethod_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">SendAsFormAsync&lt;T&gt;(this HttpRestClient, HttpMethod, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous request with URL-encoded form content to the specified URI.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientFormExtensions.html#Kampute_HttpClient_HttpRestClientFormExtensions_SendAsFormAsync_Kampute_HttpClient_HttpRestClient_System_Net_Http_HttpMethod_System_String_System_Collections_Generic_IEnumerable{System_Collections_Generic_KeyValuePair{System_String_System_String}}_System_Threading_CancellationToken_" rel="code-reference">SendAsFormAsync(this HttpRestClient, HttpMethod, string, IEnumerable&lt;KeyValuePair&lt;string, string&gt;&gt;, CancellationToken)</a></td><td>Sends an asynchronous POST request with URL-encoded form content to the specified URI without processing the response body.</td></tr><tr class="is-method"><td><a href="Kampute.HttpClient.HttpRestClientExtensions.html#Kampute_HttpClient_HttpRestClientExtensions_WithScope_Kampute_HttpClient_HttpRestClient_" rel="code-reference">WithScope(this HttpRestClient)</a></td><td>Creates a new <a href="Kampute.HttpClient.HttpRequestScope.html" rel="code-reference" class="see-link">HttpRequestScope</a> for managing scoped modifications of properties and headers for HTTP requests sent using the <a href="Kampute.HttpClient.HttpRestClient.html" rel="code-reference" class="see-link">HttpRestClient</a>.</td></tr></tbody></table><footer class="content-footer" role="contentinfo"><ul><li>Copyright © 2025 <a href="https://kampute.com/">Kampute</a></li><li>Site built with <a href="https://kampute.github.io/kampose/">Kampose</a>.</li></ul></footer></main><aside class="sidebar sidebar-right" role="complementary" aria-label="In this article" tabindex="-1"><div class="sidebar-header" aria-hidden="true"><h3>In this article</h3></div><nav id="article-navigation" class="sidebar-nav" data-max-level="3"></nav></aside></div><div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true"><div class="modal-container"><div class="modal-header"><h3 id="modal-title"></h3><button id="modal-close" type="button" class="modal-close-btn" aria-label="Close dialog">&times;</button></div><div class="modal-content"><div id="modal-body" class="modal-body"><iframe id="modal-iframe" frameborder="0" title="Dialog content"></iframe></div></div></div></div></body></html>