<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Kampute.HttpClient - SharedDisposable&lt;T&gt; Class</title><link rel="icon" href="../logo-dark.png"/><link rel="stylesheet" href="../style.css"/><script src="../script.js"></script><script src="../prism.min.js"></script><meta name="generator" content="Kampose [Version 0.2.0.0]"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Manages shared access to a disposable resource, ensuring it is correctly disposed of when no longer in use."/></head><body class="has-left-sidebar has-right-sidebar has-breadcrumb"><a href="#article" class="skip-link" aria-label="Skip to main content" tabindex="0">Skip to main content</a><header class="header" role="banner"><div class="header-main"><div class="brand" aria-label="Project title and logo"><img src="../logo-light.png" alt="Kampute.HttpClient logo" class="logo dark-mode"/> <img src="../logo-dark.png" alt="Kampute.HttpClient logo" class="logo light-mode"/><div class="project-info"><span class="project-name">Kampute.HttpClient</span> <span class="project-slogan">A lightweight .NET library that simplifies RESTful API communication.</span></div></div><nav id="menubar" class="menu-bar" role="navigation" aria-label="Main Menu" data-base-url="../" tabindex="-1"><ul class="menu" role="menubar" aria-labelledby="menubar"><li id="color-mode" class="menu-item has-submenu" role="menuitem" aria-hidden="true" tabindex="-1"><a><span class="icon selected-icon" aria-hidden="true"></span></a><ul class="menu" role="menu" aria-labelledby="color-mode" tabindex="-1"><li class="menu-item" data-mode="light" role="menuitemradio" aria-label="Light Color Mode" tabindex="-1"><a><span class="icon icon-light-color" aria-hidden="true"></span> <span>Light</span></a></li><li class="menu-item" data-mode="dark" role="menuitemradio" aria-label="Dark Color Mode" tabindex="-1"><a><span class="icon icon-dark-color" aria-hidden="true"></span> <span>Dark</span></a></li><li class="menu-item" data-mode="system" role="menuitemradio" aria-label="System Color Mode" tabindex="-1"><a><span class="icon icon-system-color" aria-hidden="true"></span> <span>System</span></a></li></ul></li></ul></nav></div><nav class="breadcrumb" role="navigation" aria-label="Breadcrumb" tabindex="-1"><ol><li class="is-topic"><a href="../index.html"><span class="name">Welcome to HttpClient</span></a></li><li class="is-topic"><a href="index.html"><span class="name">API</span></a></li><li class="is-namespace"><a href="Kampute.HttpClient.Utilities.html"><span class="name">Kampute.HttpClient.Utilities</span> <span class="category">Namespace</span></a></li><li class="is-class current-page" aria-current="page"><a href="Kampute.HttpClient.Utilities.SharedDisposable_1.html"><span class="name">SharedDisposable&lt;T&gt;</span> <span class="category">Class</span></a></li></ol></nav></header><div class="content"><aside class="sidebar sidebar-left" role="complementary" aria-label="Site navigation" tabindex="-1"><div class="sidebar-header"><div class="search-container" role="search"><input type="text" id="nav-search" class="nav-search" placeholder="Search..." aria-label="Search documentation" title="Type to filter content (Press / to focus)" autocomplete="off" spellcheck="false"><button id="clear-search" type="button" class="clear-search hidden" aria-label="Clear search" title="Clear" tabindex="-1"><span class="icon icon-delete" aria-hidden="true"></span></button> <span class="search-icon" aria-hidden="true"><span class="icon icon-search"></span></span></div></div><nav id="site-navigation" class="sidebar-nav" data-base-url="../"><div class="no-search-results hidden" aria-live="polite" role="status">No results found</div></nav></aside><main id="article" role="main" class="article has-expanded-members"><h1>SharedDisposable&lt;T&gt; Class</h1><dl class="module-card"><dt>Namespace</dt><dd><a href="Kampute.HttpClient.Utilities.html" rel="code-reference">Kampute.HttpClient.Utilities</a></dd><dt>Assembly</dt><dd><ul class="inline-list"><li>Kampute.HttpClient.dll</li></ul></dd></dl><h2 id="definition">Definition</h2><div class="doc-summary">Manages shared access to a disposable resource, ensuring it is correctly disposed of when no longer in use.</div><pre dir="ltr"><code class="language-csharp">public sealed class SharedDisposable&lt;T&gt;
	where T : class, IDisposable</code></pre><dl class="member-card"><dt>Inheritance</dt><dd><ul class="inline-list inheritance-list" aria-label="Inheritance hierarchy"><li><a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a></li><li aria-current="location">SharedDisposable&lt;T&gt;</li></ul></dd></dl><h2 id="type-parameters">Type Parameters</h2><dl class="param-list"><dt><code class="type-param-name">T</code></dt><dd>The type of the disposable object. Must be a class that implements <a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference" class="see-link">IDisposable</a>.</dd></dl><h2 id="remarks">Remarks</h2><div class="doc-comment"><p>This class is particularly useful for managing resources that are expensive to create and can be safely shared across different parts of an application. It ensures that the resource remains alive as long as it is needed and is properly cleaned up afterwards. This pattern helps prevent resource leaks and promotes efficient resource usage.</p><p>The implementation is thread-safe, making it suitable for use in multi-threaded environments where resources may be accessed concurrently. The resource is created lazily, only when it is first requested, and is disposed of when the last reference is released.</p></div><h2 id="constructors">Constructors</h2><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_Utilities_SharedDisposable_1__ctor"><h3 id="Kampute_HttpClient_Utilities_SharedDisposable_1__ctor">SharedDisposable&lt;T&gt;()</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.Utilities.SharedDisposable_1.html" rel="code-reference" class="see-link">SharedDisposable&lt;T&gt;</a> class that uses the default constructor of <code class="type-param-name">T</code>.</div><pre dir="ltr"><code class="language-csharp">public SharedDisposable&lt;T&gt;()</code></pre><dl class="member-card"></dl></section><section class="type-member is-constructor is-public has-overloads" role="region" aria-labelledby="Kampute_HttpClient_Utilities_SharedDisposable_1__ctor_System_Func{_0}_"><h3 id="Kampute_HttpClient_Utilities_SharedDisposable_1__ctor_System_Func{_0}_">SharedDisposable&lt;T&gt;(Func&lt;T&gt;)</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.HttpClient.Utilities.SharedDisposable_1.html" rel="code-reference" class="see-link">SharedDisposable&lt;T&gt;</a> class with a factory function.</div><pre dir="ltr"><code class="language-csharp">public SharedDisposable&lt;T&gt;(Func&lt;T&gt; factory)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">factory</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.func-1" rel="code-reference">Func</a>&lt;T&gt;</span></dt><dd>A function that creates an instance of the object <code class="type-param-name">T</code> when needed.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown if <code class="param-name">factory</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl></section><h2 id="properties">Properties</h2><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_SharedDisposable_1_ReferenceCount"><h3 id="Kampute_HttpClient_Utilities_SharedDisposable_1_ReferenceCount">ReferenceCount</h3><div class="doc-summary">Gets the current number of active references to the managed disposable object.</div><pre dir="ltr"><code class="language-csharp">public int ReferenceCount { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.int32" rel="code-reference">int</a></span></dt><dd>The number of active references.</dd></dl></section><h2 id="methods">Methods</h2><section class="type-member is-method is-public" role="region" aria-labelledby="Kampute_HttpClient_Utilities_SharedDisposable_1_AcquireReference"><h3 id="Kampute_HttpClient_Utilities_SharedDisposable_1_AcquireReference">AcquireReference()</h3><div class="doc-summary">Creates a new reference to the shared disposable resource, increasing the reference count.</div><pre dir="ltr"><code class="language-csharp">public SharedDisposable&lt;T&gt;.Reference AcquireReference()</code></pre><dl class="member-card"></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="Kampute.HttpClient.Utilities.SharedDisposable_1.html" rel="code-reference">SharedDisposable</a>&lt;T&gt;.<a href="Kampute.HttpClient.Utilities.SharedDisposable_1.Reference.html" rel="code-reference">Reference</a></span></dt><dd>A new <a href="Kampute.HttpClient.Utilities.SharedDisposable_1.Reference.html" rel="code-reference" class="see-link">SharedDisposable&lt;T&gt;.Reference</a> instance.</dd></dl></section><footer class="content-footer" role="contentinfo"><ul><li>Copyright Â© 2025 <a href="https://kampute.com/">Kampute</a></li><li>Site built with <a href="https://kampute.github.io/kampose/">Kampose</a>.</li></ul></footer></main><aside class="sidebar sidebar-right" role="complementary" aria-label="In this article" tabindex="-1"><div class="sidebar-header" aria-hidden="true"><h3>In this article</h3></div><nav id="article-navigation" class="sidebar-nav" data-max-level="3"></nav></aside></div><div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true"><div class="modal-container"><div class="modal-header"><h3 id="modal-title"></h3><button id="modal-close" type="button" class="modal-close-btn" aria-label="Close dialog">&times;</button></div><div class="modal-content"><div id="modal-body" class="modal-body"><iframe id="modal-iframe" frameborder="0" title="Dialog content"></iframe></div></div></div></div></body></html>